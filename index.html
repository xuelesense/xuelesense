<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>动态效果演示</title>
    <style>
        /* 
         * 基础字体大小设置，用于响应式调整。
         * 默认 1rem = 16px
         * 小屏幕（小于576px）时，1rem = 14px
         * 大屏幕（大于992px）时，1rem = 18px
         */
        html {
            font-size: 16px; /* 基础字体大小 */
        }

        @media screen and (max-width: 575.98px) {
            html {
                font-size: 14px; /* 小屏幕字体略小 */
            }
        }

        @media screen and (min-width: 992px) {
            html {
                font-size: 18px; /* 大屏幕字体略大 */
            }
        }

        body {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            background-color: #f0f0f0;
            overflow: hidden; /* 防止初始动画时出现滚动条 */
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: #333;
            box-sizing: border-box;
            padding: 1.25rem;
        }

        /* 主动画容器，用于定位所有动画元素 */
        .animation-container {
            position: relative; /* 为内部绝对定位元素提供参考 */
            width: 100%;
            max-width: 37.5rem; /* 600px */
            height: 6.25rem; /* 100px */
            /* 移除这里的flexbox布局，因为子元素都是绝对定位，它们不参与flex流 */
            /* 如果需要居中标题组，将通过调整子元素的left/transform来实现 */
            margin-bottom: 1.875rem; /* 30px */
        }

        /* 图标样式 */
        .icon {
            position: absolute;
            width: 3.75rem; /* 60px */
            height: 3.75rem;
            top: 0;
            left: 50%; /* 初始居中定位点 */
            transform: translate(-50%, -9.375rem); /* 初始位置：屏幕上方，垂直偏移约 -150px，水平居中 */
            opacity: 0;
            animation: icon-sequence 2s ease-in-out forwards;
        }

        /* 图标动画关键帧 (大屏幕默认) */
        @keyframes icon-sequence {
            0% {
                opacity: 0;
                transform: translate(-50%, -9.375rem); /* 初始顶部，透明 */
            }
            15% {
                opacity: 1;
                transform: translate(-50%, 0.9375rem);   /* 落下，略微超过目标点，15px */
            }
            25% {
                transform: translate(-50%, 0);      /* 回弹，到达Y轴目标点 */
            }
            60% {
                transform: translate(-50%, 0);      /* 保持Y轴位置，准备左移 */
            }
            100% {
                opacity: 1;
                /* 最终位置：-13.75rem 是在 left:50% + transform:translate(-50%) 之后再向左移动的距离 */
                transform: translate(calc(-50% - 13.75rem), 0); /* 向左移动到最终位置 */
            }
        }

        /* 竖线样式 */
        .vertical-line {
            position: absolute;
            /* 原始计算：left: 50% - 9.375rem */
            left: calc(50% - 9.375rem); 
            top: 1.25rem; /* 20px (图标上半部分距离顶部的距离) */
            width: 0.1875rem; /* 3px */
            height: 2.8125rem; /* 45px */
            background-color: #007bff;
            transform: scaleY(0); /* 初始状态：高度为0 */
            transform-origin: top; /* 变换原点：顶部 */
            opacity: 0;
            animation: draw-line 0.5s ease-out forwards;
            animation-delay: 2s; /* 在图标动画结束后0秒开始 */
        }

        /* 竖线动画关键帧 */
        @keyframes draw-line {
            0% {
                transform: scaleY(0);
                opacity: 0;
            }
            100% {
                transform: scaleY(1);
                opacity: 1;
            }
        }

        /* 文字XueleSense的容器，用于实现从左侧划出效果 */
        .text-wrapper {
            position: absolute;
            /* 原始计算：left: calc(50% - 9.375rem + 0.1875rem + 0.625rem) = calc(50% - 8.5625rem) */
            left: calc(50% - 8.5625rem); 
            top: 1.5625rem; /* 25px */
            height: 1.875rem; /* 30px */
            overflow: hidden;
            white-space: nowrap;
            width: 0; /* 初始宽度为0 */
            animation: reveal-text 0.7s ease-out forwards;
            /* 延迟：2s (icon) + 0.5s (line) + 0.1s (小间隙) = 2.6s */
            animation-delay: 2.6s; 
        }

        .xuelesense-text {
            font-size: 1.5rem; /* 24px */
            font-weight: bold;
            color: #333;
            line-height: 1.875rem; /* 30px, 与父容器高度一致 */
        }

        /* 文字容器动画关键帧 */
        @keyframes reveal-text {
            0% {
                width: 0;
            }
            100% {
                width: 8.75rem; /* 140px, 足够显示 "XueleSense" */
            }
        }

        /* 更新内容文本样式 */
        .content-after-animation {
            font-size: 1.125rem; /* 18px */
            opacity: 0; /* 初始透明 */
            text-align: center;
            margin-top: 0.625rem; /* 10px */
            animation: fade-in 0.5s ease-out forwards;
            /* 延迟：2.6s (reveal_text_start) + 0.7s (reveal_text_duration) + 0.2s (小间隙) = 3.5s */
            animation-delay: 3.5s; 
            max-width: 37.5rem; /* 限制宽度 */
        }

        /* 淡入动画关键帧 */
        @keyframes fade-in {
            0% {
                opacity: 0;
            }
            100% {
                opacity: 1;
            }
        }

        /* ========================================================== */
        /* 小屏幕样式调整：使整个标题单元居中 */
        /* ========================================================== */
        @media screen and (max-width: 575.98px) {
            /* 
             * 计算逻辑：
             *
             * 1. 确定标题单元在当前大屏幕布局下的总宽度和中心点。
             *    - 图标宽度: 3.75rem (60px)
             *    - 竖线宽度: 0.1875rem (3px)
             *    - 文字宽度: 8.75rem (140px)
             *    - 图标的最终中心点相对于 `50%` 是 `50% - 13.75rem`
             *    - 图标的最终左边缘: `50% - 13.75rem - (3.75rem / 2) = 50% - 13.75rem - 1.875rem = 50% - 15.625rem`
             *    - 竖线的最终左边缘: `50% - 9.375rem`
             *    - 文字的最终左边缘: `50% - 8.5625rem`
             *    - 文字的最终右边缘: `50% - 8.5625rem + 8.75rem = 50% + 0.1875rem`
             *
             *    - 整个标题单元的最左侧: `50% - 15.625rem`
             *    - 整个标题单元的最右侧: `50% + 0.1875rem`
             *    - 整个标题单元的宽度: `(50% + 0.1875rem) - (50% - 15.625rem) = 15.8125rem`
             *    - 整个标题单元的当前中心点: `((50% - 15.625rem) + (50% + 0.1875rem)) / 2 = 50% - 7.71875rem`
             *
             * 2. 我们希望标题单元的中心点从 `50% - 7.71875rem` 移动到 `50%`。
             *    这意味着需要对整个标题单元进行一个 `+7.71875rem` 的水平位移。
             *
             * 3. 由于每个元素都是绝对定位的，并且其 `left` 和 `transform` 都是相对于 `animation-container` 的 `50%` 来计算的，
             *    所以我们将这个 `+7.71875rem` 的位移叠加到每个元素的最终水平位置上。
             */

            /* 定义小屏幕下图标动画的关键帧 */
            @keyframes icon-sequence {
                0% {
                    opacity: 0;
                    transform: translate(-50%, -9.375rem);
                }
                15% {
                    opacity: 1;
                    transform: translate(-50%, 0.9375rem);
                }
                25% {
                    transform: translate(-50%, 0);
                }
                60% {
                    transform: translate(-50%, 0);
                }
                100% {
                    opacity: 1;
                    /* 图标最终X平移量: 原始 -13.75rem + 居中所需位移 7.71875rem = -6.03125rem */
                    transform: translate(calc(-50% - 6.03125rem), 0);
                }
            }

            .vertical-line {
                /* 竖线最终左边缘: 原始 (50% - 9.375rem) + 居中所需位移 7.71875rem = 50% - 1.65625rem */
                left: calc(50% - 1.65625rem);
            }

            .text-wrapper {
                /* 文字最终左边缘: 原始 (50% - 8.5625rem) + 居中所需位移 7.71875rem = 50% - 0.84375rem */
                left: calc(50% - 0.84375rem);
            }
        }

        /* Webkit前缀兼容性 */
        @-webkit-keyframes icon-sequence {
            0% {
                opacity: 0;
                -webkit-transform: translate(-50%, -9.375rem);
            }
            15% {
                opacity: 1;
                -webkit-transform: translate(-50%, 0.9375rem);
            }
            25% {
                -webkit-transform: translate(-50%, 0);
            }
            60% {
                -webkit-transform: translate(-50%, 0);
            }
            100% {
                opacity: 1;
                -webkit-transform: translate(calc(-50% - 13.75rem), 0);
            }
        }
        @-webkit-keyframes draw-line {
            0% {
                -webkit-transform: scaleY(0);
                opacity: 0;
            }
            100% {
                -webkit-transform: scaleY(1);
                opacity: 1;
            }
        }
        @-webkit-keyframes reveal-text {
            0% {
                width: 0;
            }
            100% {
                width: 8.75rem;
            }
        }
        @-webkit-keyframes fade-in {
            0% {
                opacity: 0;
            }
            100% {
                opacity: 1;
            }
        }

        @media screen and (max-width: 575.98px) {
            @-webkit-keyframes icon-sequence {
                0% { opacity: 0; -webkit-transform: translate(-50%, -9.375rem); }
                15% { opacity: 1; -webkit-transform: translate(-50%, 0.9375rem); }
                25% { -webkit-transform: translate(-50%, 0); }
                60% { -webkit-transform: translate(-50%, 0); }
                100% { opacity: 1; -webkit-transform: translate(calc(-50% - 6.03125rem), 0); }
            }
        }
    </style>
</head>
<body>
    <div class="animation-container">
        <img src="https://i2.qyimage.store:2999/i/3c7575af173b403d" alt="XueleSense Icon" class="icon">
        <div class="vertical-line"></div>
        <div class="text-wrapper">
            <span class="xuelesense-text">XueleSense</span>
        </div>
    </div>
    
    <div class="content-after-animation">
        现在已经可以发通知秒删除，请在发通知后删除通知
    </div>

    <div class="content-after-animation">
        xuelemodV2.3更新内容
    </div>
    
    <div class="content-after-animation">
        1. 可以撤回自己看得见的通知
    </div>
</body>
</html>
